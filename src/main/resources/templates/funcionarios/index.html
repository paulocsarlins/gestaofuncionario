<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
<head th:replace="~{fragmentos :: head('Lista de Funcionários')}"></head>
  <body>
  	<head th:replace="~{fragmentos :: header('Lista de Funcionários')}"></head>
    
    <div class="container mt-4">
    <div class="row">
    <div class="col-12">
    
	<table class="table table-hover">
  <thead>
    <tr>

      <th scope="col">Código</th>
      <th scope="col">Nome</th>
      <th scope="col">E-mail</th>
      <th scope="col">Cargo</th>
      <th scope="col">Endereço</th>
      <th scope="col">Cidade</th>
      <th scope="col"></th>
      <th scope="col"></th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    <tr th:each="funcionario : ${funcionarios}">
      <th class="col-1" scope="row" th:text="${funcionario.codigo}">ID</th>
		<td class="col-4" th:text="${funcionario.nome}">Nome do funcionário</td>
		<td class="col-2" th:text="${funcionario.email}">E-mail</td>
		<td class="col-2" th:text="${funcionario.cargo}">Cargo</td>
		<td class="col-2" th:text="${funcionario.endereco}">Endereço</td>
		<td class="col-2" th:text="${funcionario.cidade}">Cidade</td>
		<td class="col-1"><a th:href="@{/funcionarios/{funcionarioId}(funcionarioId = ${funcionario.codigo})}">Detalhes</a></td>
		<td class="col-1"><a th:href="@{/funcionarios/{funcionarioId}/edit(funcionarioId = ${funcionario.codigo})}">Editar</a></td>
		<td>
		<a role="button" data-bs-toggle="modal" th:data-bs-target="${'#deleteFuncionario' + funcionario.codigo}" href="">Deletar</a>
        <form th:action="@{/funcionarios/{funcionarioId}/delete(funcionarioId = ${funcionario.codigo})}" method="post">

		<div class="modal fade" th:id="${'deleteFuncionario' + funcionario.codigo}" tabindex="-1" aria-labelledby="exdeleteFuncionario" aria-hidden="true">
		<div class="modal-dialog">
		<div class="modal-content">
		<div class="modal-header">
		<h5 class="modal-title" id="exdeleteFuncionario">Deletar funcionário</h5>
		<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
		</div>
		<div class="modal-body">
		<p>Deseja realmente deletar o registro: <span th:text="${funcionario.nome}"></span>?</p>
												
		</div>
		<div class="modal-footer">
		<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
		<button type="submit" class="btn btn-primary">Deletar</button>
		</div>
		</div>
		</div>
		</div>
		
		</form> </td>
    </tr>

  </tbody>
</table>
</div>
</div>
	<div class="row">
	<a href="/funcionarios/new">Novo funcionário</a>
</div>
</div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>

  </body>
</html>